import{aX as z,u as M,p as N,r as v,s as T,a as b,o as a,c as l,w as t,Q as $,n as P,S as R,d as s,e,q as i,i as d,t as h,v as c,x as U,m,y as p,z as E,K as F,L as k,M as H,N as A,j as D,k as K,O}from"./index.30e3aca3.js";import{Q as g,a as X}from"./QBreadcrumbs.8f2291db.js";import{Q as G}from"./QResponsive.c687ef6b.js";const I={id:"myheader",class:"row justify-end items-center",style:{width:"100%"}},J=m(" \u6703\u54E1\u8CC7\u6599 "),W=m(" \u9810\u7D04\u67E5\u8A62 "),Y=m(" \u8A02\u55AE\u67E5\u8A62 "),Z=m(" \u8CFC\u7269\u8ECA "),tt=m(" \u7BA1\u7406\u5F8C\u53F0 "),et=m(" \u8A3B\u518A "),st=m(" \u767B\u5165 "),ot=m(" \u767B\u51FA "),at={id:"mycontent",class:"col row justify-start"},it=s("div",{class:"col-12 text-h4 text-xl-h3 text-secondary q-mb-md q-pl-md",style:{width:"100%"}},"\u958B\u904B\u5C0F\u7269",-1),nt={class:"col-12 q-mt-md q-pl-lg",style:{width:"100%"}},lt={class:"col-12 row justify-start content-center bg-secondary shadow-white q-mt-lg q-mb-xl q-pb-md",style:{width:"100%",height:"max-content"}},dt={id:"ProductView-img",class:"col-12 q-pa-md"},rt={id:"ProductView-content",class:"col-12 q-px-md q-py-md row wrap justify-start content-between q-pr-lg-md"},ct={class:"col-12 row wrap justify-start content-start"},ut={class:"col-12 text-h4 spacing-h6 text-xl-h3 text-primary q-mb-lg"},ft={class:"col-12 text-body2 spacing-h6 text-accent text-justify items-center q-mb-md"},mt={class:"bg-primary q-pa-xs"},_t={class:"col-12 column justify-between"},ht={class:"col-auto row"},pt=["innerHTML"],yt={class:"col-auto row content-end",style:{width:"100%"}},xt={class:"col-12 text-h6 text-xl-h4 spacing-h6 text-warning text-right q-mb-lg"},vt={class:"col-12"},gt=s("div",{class:"col-auto text-primary",style:{"font-size":"calc(16px + 9 * ((100vw - 350px) / 850))"}},"\u8A02\u8CFC\u6578\u91CF ",-1),wt={key:0,class:"col-auto row"},jt={__name:"ProductView",setup(qt){const Q=z(),V=M(),y=N(),w=v(1),x=v(!0),{logout:j}=y,{isLogin:u,isAdmin:C,cart:q}=T(y),_=v(0);b([r=>r>=1||"\u6578\u91CF\u932F\u8AA4"]);const o=b({_id:"",name:"",description:"",inventory:!1,sell:!1,price:0,image:""}),B=()=>{_.value--,_.value<0&&(_.value=0)},S=()=>{y.addCart({product:o._id,quantity:_.value})};return(async()=>{try{const{data:r}=await P.get("/products/"+Q.params.id);o._id=r.result._id,o.name=r.result.name,o.description=r.result.description,o.inventory=r.result.inventory,o.sell=r.result.sell,o.price=r.result.price,o.image=r.result.image}catch{R.fire({icon:"error",title:"\u5931\u6557",text:"\u53D6\u5F97\u5546\u54C1\u8CC7\u6599\u5931\u6557"}),V.go(-1)}})(),(r,n)=>(a(),l($,null,{default:t(()=>[s("div",I,[e(E,{class:"text-h5 text-secondary mobile-none"},{default:t(()=>[i(u)?(a(),l(d,{key:0,round:"",dense:"",flat:"",icon:"fa-solid fa-address-card",to:"/member",class:"q-mx-xs"},{default:t(()=>[e(h,{"transition-show":"fade","transition-hide":"fade",offset:[0,0]},{default:t(()=>[J]),_:1})]),_:1})):c("",!0),i(u)?(a(),l(d,{key:1,round:"",dense:"",flat:"",icon:"fa-regular fa-calendar-days",to:"/booking",class:"q-mx-xs"},{default:t(()=>[e(h,{"transition-show":"fade","transition-hide":"fade",offset:[0,0]},{default:t(()=>[W]),_:1})]),_:1})):c("",!0),i(u)?(a(),l(d,{key:2,round:"",dense:"",flat:"",icon:"fa-solid fa-receipt",to:"/order",class:"q-mx-xs"},{default:t(()=>[e(h,{"transition-show":"fade","transition-hide":"fade",offset:[0,0]},{default:t(()=>[Y]),_:1})]),_:1})):c("",!0),i(u)?(a(),l(d,{key:3,round:"",dense:"",flat:"",icon:"fa-solid fa-cart-shopping",to:"/cart",class:"q-mx-xs"},{default:t(()=>[e(h,{"transition-show":"fade","transition-hide":"fade",offset:[0,0]},{default:t(()=>[Z]),_:1}),i(q)>0?(a(),l(U,{key:0,floating:"",color:"red",rounded:""},{default:t(()=>[m(p(i(q)),1)]),_:1})):c("",!0)]),_:1})):c("",!0),i(u)&&i(C)?(a(),l(d,{key:4,round:"",dense:"",flat:"",icon:"fa-solid fa-user-gear",to:"/admin",class:"q-mx-xs"},{default:t(()=>[e(h,{"transition-show":"fade","transition-hide":"fade",offset:[0,0]},{default:t(()=>[tt]),_:1})]),_:1})):c("",!0),i(u)?c("",!0):(a(),l(d,{key:5,round:"",dense:"",flat:"",icon:"fa-solid fa-user-plus",to:"/register",class:"q-mx-xs"},{default:t(()=>[e(h,{"transition-show":"fade","transition-hide":"fade",offset:[0,0]},{default:t(()=>[et]),_:1})]),_:1})),i(u)?c("",!0):(a(),l(d,{key:6,round:"",dense:"",flat:"",icon:"fa-solid fa-right-to-bracket",to:"/login",class:"q-ml-xs q-mr-sm"},{default:t(()=>[e(h,{"transition-show":"fade","transition-hide":"fade",offset:[0,0]},{default:t(()=>[st]),_:1})]),_:1})),i(u)?(a(),l(d,{key:7,round:"",dense:"",flat:"",icon:"fa-solid fa-right-from-bracket",onClick:i(j),class:"q-ml-xl q-mr-md"},{default:t(()=>[e(h,{"transition-show":"fade","transition-hide":"fade",offset:[0,0]},{default:t(()=>[ot]),_:1})]),_:1},8,["onClick"])):c("",!0)]),_:1})]),s("div",at,[it,s("div",nt,[e(X,null,{default:t(()=>[e(g,{label:"\u9996\u9801",icon:"fa-solid fa-house",to:"/"}),e(g,{label:"\u958B\u904B\u5C0F\u7269",icon:"fa-solid fa-store",to:"/products"}),e(g,{label:o.name,icon:"fa-solid fa-gift"},null,8,["label"])]),_:1})]),s("div",lt,[s("div",dt,[e(G,{ratio:3/2},{default:t(()=>[e(F,{animated:"",infinite:"",swipeable:"",modelValue:w.value,"onUpdate:modelValue":n[0]||(n[0]=f=>w.value=f),thumbnails:"",autoplay:x.value,onMouseenter:n[1]||(n[1]=f=>x.value=!1),onMouseleave:n[2]||(n[2]=f=>x.value=!0),arrows:"","ransition-prev":"slide-right","transition-next":"slide-left"},{default:t(()=>[(a(!0),k(A,null,H(o.image,(f,L)=>(a(),l(O,{key:f,name:L+1,"img-src":f},null,8,["name","img-src"]))),128))]),_:1},8,["modelValue","autoplay"])]),_:1})]),s("div",rt,[s("div",ct,[s("div",ut,p(o.name),1),s("div",ft,[s("span",mt,p(o.inventory?"\u6709\u73FE\u8CA8":"\u8A02\u8CFC\u5F8C\u88FD\u4F5C"),1)]),s("div",_t,[s("div",ht,[s("div",{innerHTML:o.description,class:"col-12 text-xl-h6 spacing-h6 text-grey-8 text-justify items-center q-pt-md q-mb-lg"},null,8,pt)])])]),s("div",yt,[s("div",xt,"NT$ "+p(o.price.toLocaleString()),1),s("div",vt,[e(K,{class:"row justify-between items-center",style:{width:"100%",height:"40px"},onSubmit:D(S,["prevent"])},{default:t(()=>[gt,i(u)?(a(),k("div",wt,[e(d,{outline:"",square:"",color:"dark",icon:"fa-solid fa-minus",size:"sm",onClick:n[3]||(n[3]=f=>B())}),e(d,{square:"",flat:"",class:"col-7 bg-primary text-secondary",style:{width:"auto",height:"auto font-size: calc(16px + 9 * ((100vw - 350px) / 850))"},type:"submit",modelValue:_.value,"onUpdate:modelValue":n[4]||(n[4]=f=>_.value=f)},{default:t(()=>[m(p(_.value)+"\uFF0C\u52A0\u5165\u8CFC\u7269\u8ECA",1)]),_:1},8,["modelValue"]),e(d,{outline:"",square:"",color:"dark",icon:"fa-solid fa-plus",size:"sm",onClick:n[5]||(n[5]=f=>_.value++)})])):c("",!0),i(u)?c("",!0):(a(),l(d,{key:1,square:"",flat:"",class:"col-7 bg-dark text-secondary",label:"\u767B\u5165\u4EE5\u4F7F\u7528\u8CFC\u7269\u8ECA",to:"/login",style:{"font-size":"calc(16px + 9 * ((100vw - 350px) / 850))"}}))]),_:1},8,["onSubmit"])])])])])])]),_:1}))}};export{jt as default};
