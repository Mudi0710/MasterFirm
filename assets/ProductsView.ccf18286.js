import{A as v,D as b,E as Q,J as C,G as $,H as A,p as B,s as S,o as s,c as r,w as t,e,d as _,y,l as N,i,q as a,v as d,a as z,Q as L,n as V,S as j,t as f,x as P,m as u,z as T,M as p,N as E,O as D}from"./index.004b1cd7.js";import{Q as k,a as R}from"./QBreadcrumbs.bd63e0e1.js";import{Q as F}from"./QImg.d85f513e.js";import{Q as G}from"./QResponsive.8046e0d8.js";import{Q as H}from"./QCard.73803a70.js";var q=v({name:"QCardSection",props:{tag:{type:String,default:"div"},horizontal:Boolean},setup(o,{slots:n}){const l=b(()=>`q-card__section q-card__section--${o.horizontal===!0?"horiz row no-wrap":"vert"}`);return()=>Q(o.tag,{class:l.value},C(n.default))}}),I=v({name:"QCardActions",props:{...$,vertical:Boolean},setup(o,{slots:n}){const l=A(o),m=b(()=>`q-card__actions ${l.value} q-card__actions--${o.vertical===!0?"vert column":"horiz row"}`);return()=>Q("div",{class:m.value},C(n.default))}});const J={class:"col text-h5 text-accent ellipsis"},M={class:"text-subtitle1 text-dark ellipsis-3-lines"},O={class:"text-h6 text-warning text-right"},U={__name:"ProductCard",props:["product"],setup(o){const n=B(),{isLogin:l}=S(n),{addCart:m}=n;return(c,h)=>(s(),r(H,{bordered:"",class:"my-card bg-info shadow-10",style:{"border-radius":"0"},product:o.product},{default:t(()=>[e(G,{ratio:3/2},{default:t(()=>[e(F,{src:o.product.image[0]},null,8,["src"])]),_:1}),e(q,null,{default:t(()=>[_("div",J,y(o.product.name),1)]),_:1}),e(q,{class:"q-pt-none"},{default:t(()=>[_("div",M,y(o.product.description),1)]),_:1}),e(q,{class:"q-pt-none"},{default:t(()=>[_("div",O," NT$ "+y(o.product.price.toLocaleString()),1)]),_:1}),e(N),e(I,{class:"row justify-between"},{default:t(()=>[e(i,{square:"",flat:"",class:"col-4 text-caption bg-secondary text-dark q-my-sm",label:"\u5546\u54C1\u8A73\u60C5",to:"/product/"+o.product._id},null,8,["to"]),a(l)?(s(),r(i,{key:0,square:"",flat:"",outline:"",class:"col-7 bg-dark text-caption text-secondary q-my-sm",icon:"fa-solid fa-cart-shopping",label:"\u52A0\u5165\u8CFC\u7269\u8ECA",onClick:h[0]||(h[0]=x=>a(m)({product:o.product._id,quantity:1}))})):d("",!0),a(l)?d("",!0):(s(),r(i,{key:1,square:"",flat:"",outline:"",class:"col-7 bg-dark text-caption text-secondary q-my-sm",label:"\u767B\u5165\u4EE5\u4F7F\u7528\u8CFC\u7269\u8ECA",to:"login"}))]),_:1})]),_:1},8,["product"]))}},K={id:"myheader",class:"row justify-end items-center",style:{width:"100%"}},W=u(" \u6703\u54E1\u8CC7\u6599 "),X=u(" \u9810\u7D04\u67E5\u8A62 "),Y=u(" \u8A02\u55AE\u67E5\u8A62 "),Z=u(" \u8CFC\u7269\u8ECA "),tt=u(" \u7BA1\u7406\u5F8C\u53F0 "),et=u(" \u8A3B\u518A "),st=u(" \u767B\u5165 "),at=u(" \u767B\u51FA "),ot={id:"mycontent",class:"col row justify-start"},rt=_("div",{class:"col-12 text-h3 text-secondary q-mb-md",style:{width:"100%"}},"\u958B\u904B\u5C0F\u7269",-1),dt={class:"col-12 q-mt-md",style:{width:"100%"}},it={class:"col-12 q-mt-md",style:{width:"100%"}},nt={key:0,class:"row justify-start items-center"},lt={key:1,class:"text-h4 text-secondary q-mt-xl"},yt={__name:"ProductsView",setup(o){const n=z([]),l=B(),{logout:m}=l,{isLogin:c,isAdmin:h,cart:x}=S(l);return(async()=>{try{const{data:g}=await V.get("/products");n.push(...g.result)}catch{j.fire({icon:"error",title:"\u5931\u6557",text:"\u4F3A\u670D\u5668\u932F\u8AA4"})}})(),(g,ut)=>(s(),r(L,null,{default:t(()=>[_("div",K,[e(T,{class:"text-h5 text-secondary mobile-none"},{default:t(()=>[a(c)?(s(),r(i,{key:0,round:"",dense:"",flat:"",icon:"fa-solid fa-address-card",to:"/member",class:"q-mx-xs"},{default:t(()=>[e(f,{"transition-show":"fade","transition-hide":"fade",offset:[0,0]},{default:t(()=>[W]),_:1})]),_:1})):d("",!0),a(c)?(s(),r(i,{key:1,round:"",dense:"",flat:"",icon:"fa-regular fa-calendar-days",to:"/booking",class:"q-mx-xs"},{default:t(()=>[e(f,{"transition-show":"fade","transition-hide":"fade",offset:[0,0]},{default:t(()=>[X]),_:1})]),_:1})):d("",!0),a(c)?(s(),r(i,{key:2,round:"",dense:"",flat:"",icon:"fa-solid fa-receipt",to:"/order",class:"q-mx-xs"},{default:t(()=>[e(f,{"transition-show":"fade","transition-hide":"fade",offset:[0,0]},{default:t(()=>[Y]),_:1})]),_:1})):d("",!0),a(c)?(s(),r(i,{key:3,round:"",dense:"",flat:"",icon:"fa-solid fa-cart-shopping",to:"/cart",class:"q-mx-xs"},{default:t(()=>[e(f,{"transition-show":"fade","transition-hide":"fade",offset:[0,0]},{default:t(()=>[Z]),_:1}),a(x)>0?(s(),r(P,{key:0,floating:"",color:"red",rounded:""},{default:t(()=>[u(y(a(x)),1)]),_:1})):d("",!0)]),_:1})):d("",!0),a(c)&&a(h)?(s(),r(i,{key:4,round:"",dense:"",flat:"",icon:"fa-solid fa-user-gear",to:"/admin",class:"q-mx-xs"},{default:t(()=>[e(f,{"transition-show":"fade","transition-hide":"fade",offset:[0,0]},{default:t(()=>[tt]),_:1})]),_:1})):d("",!0),a(c)?d("",!0):(s(),r(i,{key:5,round:"",dense:"",flat:"",icon:"fa-solid fa-user-plus",to:"/register",class:"q-mx-xs"},{default:t(()=>[e(f,{"transition-show":"fade","transition-hide":"fade",offset:[0,0]},{default:t(()=>[et]),_:1})]),_:1})),a(c)?d("",!0):(s(),r(i,{key:6,round:"",dense:"",flat:"",icon:"fa-solid fa-right-to-bracket",to:"/login",class:"q-ml-xs q-mr-sm"},{default:t(()=>[e(f,{"transition-show":"fade","transition-hide":"fade",offset:[0,0]},{default:t(()=>[st]),_:1})]),_:1})),a(c)?(s(),r(i,{key:7,round:"",dense:"",flat:"",icon:"fa-solid fa-right-from-bracket",onClick:a(m),class:"q-ml-xl q-mr-md"},{default:t(()=>[e(f,{"transition-show":"fade","transition-hide":"fade",offset:[0,0]},{default:t(()=>[at]),_:1})]),_:1},8,["onClick"])):d("",!0)]),_:1})]),_("div",ot,[rt,_("div",dt,[e(R,null,{default:t(()=>[e(k,{label:"\u9996\u9801",icon:"fa-solid fa-house",to:"/"}),e(k,{label:"\u958B\u904B\u5C0F\u7269",icon:"fa-solid fa-store"})]),_:1})]),_("div",it,[n.length>0?(s(),p("div",nt,[(s(!0),p(E,null,D(n,w=>(s(),p("div",{key:w.id,class:"col-6 col-md-4 col-xl-3 q-px-xs q-py-sm"},[e(U,{bordered:"",class:"my-card bg-info shadow-10",style:{"border-radius":"0",width:"100%"},product:w},null,8,["product"])]))),128))])):(s(),p("div",lt,"\u5F88\u62B1\u6B49\uFF0C\u76EE\u524D\u6C92\u6709\u4EFB\u4F55\u5546\u54C1"))])])]),_:1}))}};export{yt as default};
