import{p as b,s as Q,o as s,c as d,w as t,e,d as i,y as q,l as v,i as r,q as o,g as $,v as n,m as a,a as C,Q as B,n as L,S,t as f,x as N,z as T,L as m,N as V,M as j}from"./index.fcef8da3.js";import{Q as w,a as M}from"./QBreadcrumbs.2151f6cb.js";import{Q as P}from"./QImg.92ea8b42.js";import{Q as z}from"./QResponsive.6c420599.js";import{Q as g,a as A}from"./QCardActions.0650f370.js";import{Q as E}from"./QCard.2c168c7c.js";const H={class:"col text-h5 text-accent ellipsis"},I=["innerHTML"],R={class:"text-h6 text-warning text-right"},D=a("\u5546\u54C1"),F=i("br",{class:"xl-none"},null,-1),U=a("\u8A73\u60C5"),G=i("br",{class:"xl-none"},null,-1),J=a(" \u52A0\u5165\u8CFC\u7269\u8ECA "),K=a(" \u767B\u5165\u4EE5\u4F7F\u7528"),O=i("br",{class:"xl-none"},null,-1),W=a("\u8CFC\u7269\u8ECA"),X={__name:"ProductCard",props:["product"],setup(c){const u=b(),{isLogin:_}=Q(u),{addCart:x}=u;return(l,h)=>(s(),d(E,{bordered:"",class:"my-card bg-info shadow-10",style:{"border-radius":"0",height:"100%"},product:c.product},{default:t(()=>[e(z,{ratio:3/2},{default:t(()=>[e(P,{src:c.product.image[0]},null,8,["src"])]),_:1}),e(g,null,{default:t(()=>[i("div",H,q(c.product.name),1)]),_:1}),e(g,{class:"q-pt-none"},{default:t(()=>[i("div",{innerHTML:c.product.description,class:"text-subtitle1 text-dark ellipsis-3-lines",style:{height:"84px"}},null,8,I)]),_:1}),e(g,{class:"q-pt-none"},{default:t(()=>[i("div",R," NT$ "+q(c.product.price.toLocaleString()),1)]),_:1}),e(v),e(A,{class:"row justify-between"},{default:t(()=>[e(r,{square:"",flat:"",class:"col-4 text-caption bg-secondary text-dark q-my-sm",to:"/product/"+c.product._id},{default:t(()=>[D,F,U]),_:1},8,["to"]),o(_)?(s(),d(r,{key:0,square:"",flat:"",outline:"",class:"col-7 bg-dark text-caption text-secondary q-my-sm",onClick:h[0]||(h[0]=y=>o(x)({product:c.product._id,quantity:1})),style:{height:"100%"}},{default:t(()=>[i("span",null,[e($,{name:"fa-solid fa-cart-shopping",size:"xs"}),G,J])]),_:1})):n("",!0),o(_)?n("",!0):(s(),d(r,{key:1,square:"",flat:"",outline:"",class:"col-7 bg-dark text-caption text-secondary q-my-sm",to:"login"},{default:t(()=>[K,O,W]),_:1}))]),_:1})]),_:1},8,["product"]))}},Y={id:"myheader",class:"row justify-end items-center",style:{width:"100%"}},Z=a(" \u6703\u54E1\u8CC7\u6599 "),tt=a(" \u9810\u7D04\u67E5\u8A62 "),et=a(" \u8A02\u55AE\u67E5\u8A62 "),st=a(" \u8CFC\u7269\u8ECA "),ot=a(" \u7BA1\u7406\u5F8C\u53F0 "),at=a(" \u8A3B\u518A "),dt=a(" \u767B\u5165 "),it=a(" \u767B\u51FA "),nt={id:"mycontent",class:"col row justify-start"},rt=i("div",{class:"col-12 text-h4 text-xl-h3 text-secondary q-mb-md q-pl-md",style:{width:"100%"}},"\u958B\u904B\u5C0F\u7269",-1),lt={class:"col-12 q-mt-md q-pl-lg",style:{width:"100%"}},ct={class:"col-12 q-mt-md q-mb-xl",style:{width:"100%"}},ft={key:0,class:"row justify-start items-center"},ut={key:1,class:"text-h4 text-secondary q-mt-xl"},kt={__name:"ProductsView",setup(c){const u=C([]),_=b(),{logout:x}=_,{isLogin:l,isAdmin:h,cart:y}=Q(_);return(async()=>{try{const{data:p}=await L.get("/products");u.push(...p.result)}catch{S.fire({icon:"error",title:"\u5931\u6557",text:"\u4F3A\u670D\u5668\u932F\u8AA4"})}})(),(p,ht)=>(s(),d(B,null,{default:t(()=>[i("div",Y,[e(T,{class:"text-h5 text-secondary mobile-none"},{default:t(()=>[o(l)?(s(),d(r,{key:0,round:"",dense:"",flat:"",icon:"fa-solid fa-address-card",to:"/member",class:"q-mx-xs"},{default:t(()=>[e(f,{"transition-show":"fade","transition-hide":"fade",offset:[0,0]},{default:t(()=>[Z]),_:1})]),_:1})):n("",!0),o(l)?(s(),d(r,{key:1,round:"",dense:"",flat:"",icon:"fa-regular fa-calendar-days",to:"/booking",class:"q-mx-xs"},{default:t(()=>[e(f,{"transition-show":"fade","transition-hide":"fade",offset:[0,0]},{default:t(()=>[tt]),_:1})]),_:1})):n("",!0),o(l)?(s(),d(r,{key:2,round:"",dense:"",flat:"",icon:"fa-solid fa-receipt",to:"/order",class:"q-mx-xs"},{default:t(()=>[e(f,{"transition-show":"fade","transition-hide":"fade",offset:[0,0]},{default:t(()=>[et]),_:1})]),_:1})):n("",!0),o(l)?(s(),d(r,{key:3,round:"",dense:"",flat:"",icon:"fa-solid fa-cart-shopping",to:"/cart",class:"q-mx-xs"},{default:t(()=>[e(f,{"transition-show":"fade","transition-hide":"fade",offset:[0,0]},{default:t(()=>[st]),_:1}),o(y)>0?(s(),d(N,{key:0,floating:"",color:"red",rounded:""},{default:t(()=>[a(q(o(y)),1)]),_:1})):n("",!0)]),_:1})):n("",!0),o(l)&&o(h)?(s(),d(r,{key:4,round:"",dense:"",flat:"",icon:"fa-solid fa-user-gear",to:"/admin",class:"q-mx-xs"},{default:t(()=>[e(f,{"transition-show":"fade","transition-hide":"fade",offset:[0,0]},{default:t(()=>[ot]),_:1})]),_:1})):n("",!0),o(l)?n("",!0):(s(),d(r,{key:5,round:"",dense:"",flat:"",icon:"fa-solid fa-user-plus",to:"/register",class:"q-mx-xs"},{default:t(()=>[e(f,{"transition-show":"fade","transition-hide":"fade",offset:[0,0]},{default:t(()=>[at]),_:1})]),_:1})),o(l)?n("",!0):(s(),d(r,{key:6,round:"",dense:"",flat:"",icon:"fa-solid fa-right-to-bracket",to:"/login",class:"q-ml-xs q-mr-sm"},{default:t(()=>[e(f,{"transition-show":"fade","transition-hide":"fade",offset:[0,0]},{default:t(()=>[dt]),_:1})]),_:1})),o(l)?(s(),d(r,{key:7,round:"",dense:"",flat:"",icon:"fa-solid fa-right-from-bracket",onClick:o(x),class:"q-ml-xl q-mr-md"},{default:t(()=>[e(f,{"transition-show":"fade","transition-hide":"fade",offset:[0,0]},{default:t(()=>[it]),_:1})]),_:1},8,["onClick"])):n("",!0)]),_:1})]),i("div",nt,[rt,i("div",lt,[e(M,null,{default:t(()=>[e(w,{label:"\u9996\u9801",icon:"fa-solid fa-house",to:"/"}),e(w,{label:"\u958B\u904B\u5C0F\u7269",icon:"fa-solid fa-store"})]),_:1})]),i("div",ct,[u.length>0?(s(),m("div",ft,[(s(!0),m(V,null,j(u,k=>(s(),m("div",{key:k.id,class:"col-6 col-md-4 col-xl-3 q-px-xs q-py-md"},[e(X,{bordered:"",class:"my-card bg-info shadow-10",style:{"border-radius":"0",width:"100%",height:"100%"},product:k},null,8,["product"])]))),128))])):(s(),m("div",ut,"\u5546\u54C1\u52A0\u8F09\u4E2D......"))])])]),_:1}))}};export{kt as default};
