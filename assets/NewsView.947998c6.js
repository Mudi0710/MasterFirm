import{A as j,D as B,E as S,J as T,p as L,s as H,r as b,a as q,o as n,c as l,w as e,Q as M,n as A,S as E,d as o,e as a,q as i,i as r,t as m,v as d,x as I,m as c,y as _,z as O,f as U,g as D,l as F,K as R,O as p}from"./index.a1ab890b.js";import{Q,a as $}from"./QBreadcrumbs.3330944d.js";import{Q as z,a as J}from"./QTable.e327fcef.js";import{Q as K}from"./QResponsive.3929e776.js";var G=j({name:"QTr",props:{props:Object,noHover:Boolean},setup(g,{slots:h}){const w=B(()=>"q-tr"+(g.props===void 0||g.props.header===!0?"":" "+g.props.__trClass)+(g.noHover===!0?" q-tr--no-hover":""));return()=>S("tr",{class:w.value},T(h.default))}});const W={id:"myheader",class:"row justify-end items-center",style:{width:"100%"}},X=c(" \u6703\u54E1\u8CC7\u6599 "),Y=c(" \u9810\u7D04\u67E5\u8A62 "),Z=c(" \u8A02\u55AE\u67E5\u8A62 "),ee=c(" \u8CFC\u7269\u8ECA "),ae=c(" \u7BA1\u7406\u5F8C\u53F0 "),te=c(" \u8A3B\u518A "),se=c(" \u767B\u5165 "),oe=c(" \u767B\u51FA "),ne={id:"mycontent",class:"col row justify-start"},le=o("div",{class:"col-12 text-h3 text-secondary q-mb-md",style:{width:"100%"}},"\u6700\u65B0\u6D88\u606F",-1),ie={class:"col-12 q-mt-md",style:{width:"100%"}},re={id:"news-content",class:"col-12 row q-mt-md bg-red",style:{width:"100%"}},de={class:"myorder col-12 col-xl-7 q-pa-md row justify-start content-start bg-blue"},ce=o("span",null,null,-1),ue=["innerHTML"],fe={class:"full-width row flex-center text-accent q-gutter-sm"},me={id:"news-img",class:"myorder col-12 col-xl-5 q-pa-md",style:{"max-height":"700px"}},ye={__name:"NewsView",setup(g){const h=L(),{logout:w}=h,{isLogin:u,isAdmin:C,cart:x}=H(h),k=b(1),y=b(!0),v=q([]),P=q({items:[],page:1,rowsPerPage:5}),V=b(!1),N=[{name:"date",label:"\u767C\u5E03\u65E5\u671F",field:s=>s.date,align:"center"},{name:"title",label:"\u6D88\u606F\u6A19\u984C",field:s=>s.title,align:"center"},{name:"content",label:"\u6D88\u606F\u5167\u5BB9",field:s=>s.content,align:"left"}];return(async()=>{try{const{data:s}=await A.get("/newses");v.push(...s.result),v.reverse()}catch(s){E.fire({icon:"error",title:"\u5931\u6557",text:s.isAxiosError?s.response.data.message:s.message})}})(),(s,f)=>(n(),l(M,null,{default:e(()=>[o("div",W,[a(O,{class:"text-h5 text-secondary mobile-none"},{default:e(()=>[i(u)?(n(),l(r,{key:0,round:"",dense:"",flat:"",icon:"fa-solid fa-address-card",to:"/member",class:"q-mx-xs"},{default:e(()=>[a(m,{"transition-show":"fade","transition-hide":"fade",offset:[0,0]},{default:e(()=>[X]),_:1})]),_:1})):d("",!0),i(u)?(n(),l(r,{key:1,round:"",dense:"",flat:"",icon:"fa-regular fa-calendar-days",to:"/booking",class:"q-mx-xs"},{default:e(()=>[a(m,{"transition-show":"fade","transition-hide":"fade",offset:[0,0]},{default:e(()=>[Y]),_:1})]),_:1})):d("",!0),i(u)?(n(),l(r,{key:2,round:"",dense:"",flat:"",icon:"fa-solid fa-receipt",to:"/order",class:"q-mx-xs"},{default:e(()=>[a(m,{"transition-show":"fade","transition-hide":"fade",offset:[0,0]},{default:e(()=>[Z]),_:1})]),_:1})):d("",!0),i(u)?(n(),l(r,{key:3,round:"",dense:"",flat:"",icon:"fa-solid fa-cart-shopping",to:"/cart",class:"q-mx-xs"},{default:e(()=>[a(m,{"transition-show":"fade","transition-hide":"fade",offset:[0,0]},{default:e(()=>[ee]),_:1}),i(x)>0?(n(),l(I,{key:0,floating:"",color:"red",rounded:""},{default:e(()=>[c(_(i(x)),1)]),_:1})):d("",!0)]),_:1})):d("",!0),i(u)&&i(C)?(n(),l(r,{key:4,round:"",dense:"",flat:"",icon:"fa-solid fa-user-gear",to:"/admin",class:"q-mx-xs"},{default:e(()=>[a(m,{"transition-show":"fade","transition-hide":"fade",offset:[0,0]},{default:e(()=>[ae]),_:1})]),_:1})):d("",!0),i(u)?d("",!0):(n(),l(r,{key:5,round:"",dense:"",flat:"",icon:"fa-solid fa-user-plus",to:"/register",class:"q-mx-xs"},{default:e(()=>[a(m,{"transition-show":"fade","transition-hide":"fade",offset:[0,0]},{default:e(()=>[te]),_:1})]),_:1})),i(u)?d("",!0):(n(),l(r,{key:6,round:"",dense:"",flat:"",icon:"fa-solid fa-right-to-bracket",to:"/login",class:"q-ml-xs q-mr-sm"},{default:e(()=>[a(m,{"transition-show":"fade","transition-hide":"fade",offset:[0,0]},{default:e(()=>[se]),_:1})]),_:1})),i(u)?(n(),l(r,{key:7,round:"",dense:"",flat:"",icon:"fa-solid fa-right-from-bracket",onClick:i(w),class:"q-ml-xl q-mr-md"},{default:e(()=>[a(m,{"transition-show":"fade","transition-hide":"fade",offset:[0,0]},{default:e(()=>[oe]),_:1})]),_:1},8,["onClick"])):d("",!0)]),_:1})]),o("div",ne,[le,o("div",ie,[a($,null,{default:e(()=>[a(Q,{label:"\u9996\u9801",icon:"fa-solid fa-house",to:"/"}),a(Q,{label:"\u6700\u65B0\u6D88\u606F",icon:"fa-solid fa-bullhorn"})]),_:1})]),o("div",re,[o("div",de,[a(J,{columns:N,rows:v,"row-key":"title",separator:"cell",square:"",bordered:"","wrap-cells":"",dense:"","table-colspan":"1",filter:s.filter,loading:V.value,pagination:P,"rows-per-page-label":"\u6BCF\u9801\u986F\u793A\u7B46\u6578","no-data-label":"\u76EE\u524D\u6C92\u6709\u65B0\u589E\u4EFB\u4F55\u6700\u65B0\u6D88\u606F","no-results-label":"Oops...\u627E\u4E0D\u5230\u8A72\u7B46\u6700\u65B0\u6D88\u606F"},{"top-right":e(()=>[a(U,{borderless:"",dense:"",debounce:"300",modelValue:s.filter,"onUpdate:modelValue":f[0]||(f[0]=t=>s.filter=t),placeholder:"\xA0Search",class:"search"},{append:e(()=>[a(D,{name:"search"})]),_:1},8,["modelValue"])]),body:e(t=>[a(G,{props:t},{default:e(()=>[ce,o("div",null,_(t.row.date),1),o("div",null,_(t.row.title),1),o("div",{innerHTML:t.row.content},null,8,ue),a(F)]),_:2},1032,["props"])]),pagination:e(t=>[t.pagesNumber>1?(n(),l(r,{key:0,icon:"first_page",color:"secondary",round:"",dense:"",flat:"",disable:t.isFirstPage,onClick:t.firstPage},null,8,["disable","onClick"])):d("",!0),a(r,{icon:"chevron_left",color:"secondary",round:"",dense:"",flat:"",disable:t.isFirstPage,onClick:t.prevPage},null,8,["disable","onClick"]),a(r,{icon:"chevron_right",color:"secondary",round:"",dense:"",flat:"",disable:t.isLastPage,onClick:t.nextPage},null,8,["disable","onClick"]),t.pagesNumber>1?(n(),l(r,{key:1,icon:"last_page",color:"secondary",round:"",dense:"",flat:"",disable:t.isLastPage,onClick:t.lastPage},null,8,["disable","onClick"])):d("",!0)]),"no-data":e(({message:t})=>[o("div",fe,[o("span",null,_(t),1)])]),loading:e(()=>[a(z,{showing:"",dark:"","transition-show":"fade",color:"primary"})]),_:1},8,["rows","filter","loading","pagination"])]),o("div",me,[a(K,{ratio:4/5},{default:e(()=>[a(R,{animated:"",infinite:"",swipeable:"","transition-prev":"slide-right","transition-next":"slide-left",autoplay:y.value,arrows:"",navigation:"",modelValue:k.value,"onUpdate:modelValue":f[1]||(f[1]=t=>k.value=t),onMouseenter:f[2]||(f[2]=t=>y.value=!1),onMouseleave:f[3]||(f[3]=t=>y.value=!0)},{default:e(()=>[a(p,{name:1,"img-src":"https://cdn.quasar.dev/img/mountains.jpg"}),a(p,{name:2,"img-src":"https://cdn.quasar.dev/img/parallax1.jpg"}),a(p,{name:3,"img-src":"https://cdn.quasar.dev/img/parallax2.jpg"}),a(p,{name:4,"img-src":"https://cdn.quasar.dev/img/quasar.jpg"})]),_:1},8,["autoplay","modelValue"])]),_:1})])])])]),_:1}))}};export{ye as default};
